"use strict";(self.webpackChunkflight_booking_system=self.webpackChunkflight_booking_system||[]).push([[317],{5317:(e,a,t)=>{t.r(a),t.d(a,{default:()=>c});var l=t(5043),r=t(8655),i=t(105),n=t(5115),o=t(5883),d=t(2907),s=t(3023),u=(t(5620),t(579));const c=e=>{const[a,t]=(0,l.useState)({flightNumber:e.location.state.flightObj.flightNumber,departure:e.location.state.flightObj.departure,arrival:e.location.state.flightObj.arrival,departureDate:e.location.state.flightObj.departureDate,departureTime:e.location.state.flightObj.departureTime,arrivalDate:e.location.state.flightObj.arrivalDate,arrivalTime:e.location.state.flightObj.arrivalTime,seatAvailability:e.location.state.flightObj.seatAvailability}),[c,m]=(0,l.useState)(!1),[p,h]=(0,l.useState)(!1),[v,g]=(0,l.useState)(""),f=()=>{h(!0)},b=a=>{h(!1),c&&e.history.push({pathname:"/admin"})},A=e=>{const{name:a,value:l}=e.target;t((e=>({...e,[a]:l})))};return(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",maxWidth:"400px",margin:"auto",padding:"3px",border:"1px solid #ccc"},children:[(0,u.jsx)("h2",{children:"Update Flight Information"}),(0,u.jsxs)("form",{style:{width:"70%",marginTop:"15px"},onSubmit:e=>{e.preventDefault();for(const[t,l]of Object.entries(a))if(""==l)return console.log("empty fields!"),g("Empty fields are not allowed!"),m(!1),void f();if(a.arrival==a.departure)return g("Arrival and departure cities cannot be same!"),m(!1),void f();s.A.updateFlightsDetailsAsAdmin(1,a.flightNumber,a).then((e=>{e.data.includes("Updated")?(g("Flight details Updated successfully"),m(!0),f()):(m(!1),g(e.data),f()),console.log(e.data)}))},children:[(0,u.jsx)(r.A,{label:"Flight Number",variant:"outlined",name:"flightNumber",value:a.flightNumber,disabled:!0,onChange:A,fullWidth:!0,margin:"normal"}),(0,u.jsx)(r.A,{label:"Departure",variant:"outlined",name:"departure",value:a.departure,onChange:A,fullWidth:!0,margin:"normal"}),(0,u.jsx)(r.A,{label:"Arrival",variant:"outlined",name:"arrival",value:a.arrival,onChange:A,fullWidth:!0,margin:"normal"}),(0,u.jsx)(r.A,{label:"Departure Date",variant:"outlined",name:"departureDate",placeholder:"DD/MM/YYYY",type:"date",value:a.departureDate,onChange:A,fullWidth:!0,margin:"normal"}),(0,u.jsx)(r.A,{label:"Departure Time",variant:"outlined",name:"departureTime",type:"time",placeholder:"HH:MM",value:a.departureTime,onChange:A,fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}}),(0,u.jsx)(r.A,{label:"Arrival Date",variant:"outlined",name:"arrivalDate",placeholder:"DD/MM/YYYY",type:"date",value:a.arrivalDate,onChange:A,fullWidth:!0,margin:"normal"}),(0,u.jsx)(r.A,{label:"Arrival Time",variant:"outlined",name:"arrivalTime",type:"time",placeholder:"HH:MM",value:a.arrivalTime,onChange:A,fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}}),(0,u.jsx)(r.A,{label:"Seat Availability",variant:"outlined",name:"seatAvailability",value:a.seatAvailability,onChange:A,fullWidth:!0,margin:"normal"}),(0,u.jsx)(i.A,{className:"black-button",type:"submit",variant:"contained",color:"primary",size:"large",style:{marginTop:"16px"},children:"Update"})]}),(0,u.jsxs)(n.A,{open:p,onClose:b,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,u.jsx)(o.A,{id:"alert-dialog-title",children:v}),(0,u.jsx)(d.A,{alignItems:"center",children:(0,u.jsx)(i.A,{onClick:b,autoFocus:!0,children:"Close"})})]})]})}},3023:(e,a,t)=>{t.d(a,{A:()=>i});var l=t(6213);const r="http://localhost:8080/adminControl";const i=new class{saveFlightDetails(e,a){return l.A.post(r+"/saveflight/"+e,a)}getAllFlightsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return l.A.get(r+"/getAllFlights/"+e)}updateFlightsDetailsAsAdmin(e,a,t){return console.log(t),l.A.put(r+"/updateFlight/"+e+"/"+a,t)}DeleteFlightDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;return l.A.delete(r+"/deleteFlight/"+e+"/"+a,{data:t})}getAllReservation(e){return l.A.get(r+"/viewAllReservation/"+e)}}},8655:(e,a,t)=>{t.d(a,{A:()=>x});var l=t(8168),r=t(45),i=t(5043),n=t(3024),o=t(403),d=t(8951),s=t(8908),u=t(3819),c=t(7467),m=t(3810),p=t(2696),h=t(7573),v=i.forwardRef((function(e,a){var t=e.children,o=e.classes,d=e.className,s=e.component,u=void 0===s?"p":s,c=(e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant,(0,r.A)(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),h=(0,p.A)(),v=(0,m.A)({props:e,muiFormControl:h,states:["variant","margin","disabled","error","filled","focused","required"]});return i.createElement(u,(0,l.A)({className:(0,n.A)(o.root,("filled"===v.variant||"outlined"===v.variant)&&o.contained,d,v.disabled&&o.disabled,v.error&&o.error,v.filled&&o.filled,v.focused&&o.focused,v.required&&o.required,"dense"===v.margin&&o.marginDense),ref:a},c)," "===t?i.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):t)}));const g=(0,h.A)((function(e){return{root:(0,l.A)({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(v);var f=t(9548),b={standard:o.A,filled:d.A,outlined:s.A},A=i.forwardRef((function(e,a){var t=e.autoComplete,o=e.autoFocus,d=void 0!==o&&o,s=e.children,m=e.classes,p=e.className,h=e.color,v=void 0===h?"primary":h,A=e.defaultValue,x=e.disabled,y=void 0!==x&&x,D=e.error,j=void 0!==D&&D,F=e.FormHelperTextProps,C=e.fullWidth,T=void 0!==C&&C,w=e.helperText,M=e.hiddenLabel,N=e.id,P=e.InputLabelProps,W=e.inputProps,k=e.InputProps,I=e.inputRef,q=e.label,E=e.multiline,L=void 0!==E&&E,O=e.name,S=e.onBlur,H=e.onChange,R=e.onFocus,Y=e.placeholder,_=e.required,U=void 0!==_&&_,B=e.rows,V=e.rowsMax,$=e.select,z=void 0!==$&&$,G=e.SelectProps,J=e.type,K=e.value,Q=e.variant,X=void 0===Q?"standard":Q,Z=(0,r.A)(e,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","select","SelectProps","type","value","variant"]);var ee={};if("outlined"===X&&(P&&"undefined"!==typeof P.shrink&&(ee.notched=P.shrink),q)){var ae,te=null!==(ae=null===P||void 0===P?void 0:P.required)&&void 0!==ae?ae:U;ee.label=i.createElement(i.Fragment,null,q,te&&"\xa0*")}z&&(G&&G.native||(ee.id=void 0),ee["aria-describedby"]=void 0);var le=w&&N?"".concat(N,"-helper-text"):void 0,re=q&&N?"".concat(N,"-label"):void 0,ie=b[X],ne=i.createElement(ie,(0,l.A)({"aria-describedby":le,autoComplete:t,autoFocus:d,defaultValue:A,fullWidth:T,multiline:L,name:O,rows:B,rowsMax:V,type:J,value:K,id:N,inputRef:I,onBlur:S,onChange:H,onFocus:R,placeholder:Y,inputProps:W},ee,k));return i.createElement(c.A,(0,l.A)({className:(0,n.A)(m.root,p),disabled:y,error:j,fullWidth:T,hiddenLabel:M,ref:a,required:U,color:v,variant:X},Z),q&&i.createElement(u.A,(0,l.A)({htmlFor:N,id:re},P),q),z?i.createElement(f.A,(0,l.A)({"aria-describedby":le,id:N,labelId:re,value:K,input:ne},G),s):ne,w&&i.createElement(g,(0,l.A)({id:le},F),w))}));const x=(0,h.A)({root:{}},{name:"MuiTextField"})(A)},5620:()=>{}}]);
//# sourceMappingURL=317.103500e1.chunk.js.map