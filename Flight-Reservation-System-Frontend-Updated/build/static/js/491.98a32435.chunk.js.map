{"version":3,"file":"static/js/491.98a32435.chunk.js","mappings":"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","sources":["modules/admin/admin.jsx","services/AdminService.js"],"sourcesContent":["import React, {useState} from \"react\";\nimport {\n  Grid,\n  TextField,\n  Button,\n  ButtonGroup,\n} from \"@material-ui/core\";\nimport AdminService from \"../../services/AdminService\";\nimport DataTable from 'react-data-table-component';\nimport { Edit, Delete } from \"@material-ui/icons\";\nimport \"./admin.css\";\n\nconst AdminControl = (props) => {\n  const flightcolumns = [\n    {\n      id:\"flightNumber\",\n      name: \"FlightNumber\",\n      selector: row => row.flightNumber\n    },\n    {\n      id:\"departure\",\n      name: \"Departure\",\n      selector: row => row.departure\n    },\n    {\n      id:\"arrival\",\n      name: \"Arrival\",\n      selector: row => row.arrival\n    },\n    {\n      id:\"departureDate\",\n      name: \"DepartureDate\",\n      selector: row => row.departureDate\n    },\n    {\n      id:\"departureTime\",\n      name: \"DepartureTime\",\n      selector: row => row.departureTime\n    },\n    {\n      id:\"arrivalDate\",\n      name: \"ArrivalDate\",\n      selector: row => row.arrivalDate\n    },\n    {\n      id:\"arrivalTime\",\n      name: \"ArrivalTime\",\n      selector: row => row.arrivalTime\n    },\n    {\n      id:\"seatAvailability\",\n      name: \"SeatAvailability\",\n      selector: row => row.seatAvailability\n    },{\n      id:\"ActionID\",\n      name:\"Action\",\n      cell: (row, index, column, id) => (\n        <ButtonGroup variant=\"contained\" aria-label=\"outlined primary button group\">\n            <Button\n              startIcon = {<Edit></Edit>}\n              onClick={() => handleEditClick(row,\"edit\")}\n            >\n            </Button>\n            <Button\n              startIcon = {<Delete></Delete>}\n              onClick={(e) => handleDeleteClick(e, index, row, \"delete\")}\n            >\n            </Button>\n          </ButtonGroup>\n          \n      ),\n    \n    ignoreRowClick: true,\n    allowOverflow: true,\n    button: true,\n  }\n  ];\n  const reservationcolumns = [\n    {\n      id:\"bookingId\",\n      name: \"Booking-Id\",\n      selector: row => row.bookingId\n    },\n    {\n      id:\"departure\",\n      name: \"Departure\",\n      selector: row => row.departure\n    },\n    {\n      id:\"arrival\",\n      name: \"Arrival\",\n      selector: row => row.arrival\n    },\n    {\n      id:\"departureDate\",\n      name: \"DepartureDate\",\n      selector: row => row.passenger.flightDetails[0].departureDate\n    },\n    {\n      id:\"departureTime\",\n      name: \"DepartureTime\",\n      selector: row => row.passenger.flightDetails[0].departureTime\n    },\n    {\n      id:\"arrivalDate\",\n      name: \"Arrival Date\",\n      selector: row => row.passenger.flightDetails[0].arrivalDate\n    },\n    {\n      id:\"arrivalTime\",\n      name: \"Arrival Time\",\n      selector: row => row.passenger.flightDetails[0].arrivalTime\n    },\n    {\n      id:\"emailId\",\n      name: \"Email-Id\",\n      selector: row => row.passenger.emailId\n    },\n    {\n      id:\"firstName\",\n      name: \"FirstName\",\n      selector: row => row.passenger.firstName\n    },\n    {\n      id:\"lastName\",\n      name: \"LastName\",\n      selector: row => row.passenger.lastName\n    },\n    {\n      id:\"flightNumber\",\n      name: \"Flight Number\",\n      selector: row => row.flightNumber\n    },\n    {\n      id:\"seatNumber\",\n      name: \"Seat-Number\",\n      selector: row => row.passenger.flightDetails[0].seat.seatNumber\n    },\n    {\n      id:\"seatClass\",\n      name: \"Seat-Class\",\n      selector: row => row.passenger.flightDetails[0].seat.seatClass\n    },\n    {\n      id:\"totalTravelFair\",\n      name: \"TotalTravelFair\",\n      selector: row => row.passenger.payment[0].totalTravelFair\n    }\n  ];\n // const [pending, setPending] = React.useState(true);\n  const [rows, setRows] = useState(\"\")\n  //const [reservationRows, setReservationRows] = useState(\"\")\n  //const [columns1, setColumns] = React.useState(flightcolumns)\n  const [flightNumber, setFlightNumber] = useState(\"\")\n  const [dataTable, setTable] = useState(\"\")\n\n    const fetchFlightData = () => {\n        //console.log(admin);\n        AdminService.getAllFlightsDetails(\n        ).then((ret) => {\n          console.log(\"result\", ret.data);\n          var returndata = ret.data\n          delete returndata[\"seats\"]\n          var keys = Object.keys(returndata[0])\n          setTable(\"\")\n\n          setTable(\n            <>\n            <DataTable\n            title=\"Flights List\"\n            columns={flightcolumns}\n            data={returndata} \n            //progressPending={pending} \n            pagination/>\n\n            <div style={{ marginRight: \"10px\" }}>\n            <Button className=\"black-button\"\n                    type=\"submit\"\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={() => handleAddFlight()}\n                    style={{ marginTop: \"15px\", marginLeft: \"500px\"}}\n                  >\n                   +Add Flight\n              </Button>\n          </div>\n          </>\n            )\n        });\n      };\n      const fetchReservation = () =>{\n        console.log(flightNumber);\n        if (flightNumber == \"\") {\n          console.log(\"flight number is empty\");\n          return\n        }\n        AdminService.getAllReservation(flightNumber).then((ret) =>{\n          console.log(\"result\", ret.data);\n          var returndata = ret.data\n          setTable(\"\")\n          setTable(<DataTable\n            title = {\"ReservationList for flight number: \".concat(flightNumber)}\n            columns={reservationcolumns}\n            data={returndata} \n            //progressPending={pending} \n            pagination/>)\n        })\n      }\n      const handleFlightNumber = (e) => {\n        setFlightNumber(e.target.value);\n      };\n      const handleSubmit = () =>{\n        fetchFlightData();\n      }\n      const handleReservationSubmit = (e) =>{\n        e.preventDefault();\n        fetchReservation();\n      }\n\n      const handleAddFlight = () =>{\n        console.log(\"handle add\");\n        props.history.push({pathname:`/add-flight`})\n      }\n\n      const handleEditClick = (flightObj) => {\n        console.log(\"handle edit\");\n        props.history.push({pathname:`/edit-flight/${flightObj.flightNumber}`, state:{flightObj}});\n      };\n\n      const handleDeleteClick = (e, rowId, flightObj, actionType) => {\n        e.preventDefault()\n        if (actionType == \"delete\") {\n          console.log(\"Marked for delete: %s\", flightObj.flightNumber)\n          AdminService.DeleteFlightDetails(1, flightObj.flightNumber, flightObj).then((ret) =>{\n            console.log(ret.data)\n            if (ret.data.includes(\"Deleted Successfully\")) {\n              alert(\"Flight details deleted successfully\")\n              document.getElementById(\"row-\"+rowId).remove()\n            } else {\n              alert(ret.data)\n            }\n          })\n        } else {\n          console.log(\"Marked for edit: %s\", flightNumber) \n        }\n      }\n     \n    return (\n      <><Grid container spacing={2}>\n        <Grid item xs={12}>\n          <h2>Hello There!!</h2>\n        </Grid>\n        <div style={{ display: \"flex\", justifyContent: \"flex-end\" , alignItems: \"center\"}}>\n        <div style={{ marginRight: \"20px\" }}>\n          <Button className=\"black-button\"\n                  type=\"submit\"\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={() => handleSubmit()}\n                  style={{ marginTop: \"15px\", marginLeft: \"10px\" }}\n                >\n                  All Flights\n            </Button>\n        </div>\n          <form onSubmit={handleReservationSubmit} style={{ marginLeft: \"10px\" }}>\n          <div style={{ display: \"flex\", alignItems: \"center\" , paddingLeft:\"250px\"}}>\n            <TextField\n              label=\"Flight Number\"\n              type=\"text\"\n              value={flightNumber}\n              onChange={handleFlightNumber}\n              variant=\"outlined\"\n              style={{ marginBottom: \"10px\" ,marginTop: \"15px\", marginLeft: \"10px\",paddingTop:\"10px\"}}\n            />\n              <Button className=\"black-button\"\n                type=\"submit\"\n                variant=\"contained\"\n                color=\"primary\"\n                style={{ marginTop: \"15px\", marginLeft: \"10px\", backgroundColor: '#ccc', color: '#000', marginLeft: '10px' }}\n              >All Reservations\n              </Button>\n              </div>\n          </form>\n        </div>\n        \n      </Grid>\n      {dataTable}\n          </>\n    )\n};\nexport default AdminControl;","import axios from \"axios\";\n\nconst BOOKING_API_BASE_URL = \"http://localhost:8080/adminControl\";\n\nclass AdminService {\n  saveFlightDetails(admin, flightobj) {\n    return axios.post(BOOKING_API_BASE_URL + \"/saveflight/\" + admin, flightobj);\n  }\n\n  getAllFlightsDetails(admin=1) {\n    return axios.get(BOOKING_API_BASE_URL + \"/getAllFlights/\" + admin);\n  }\n\n  updateFlightsDetailsAsAdmin(admin, flightNumber, flightobj) {\n    console.log(flightobj)\n    return axios.put(\n      BOOKING_API_BASE_URL + \"/updateFlight/\" + admin + \"/\" + flightNumber,\n      flightobj\n    );\n  }\n\n  DeleteFlightDetails(admin=0, flightNumber, flightobj) {\n    return axios.delete(\n      BOOKING_API_BASE_URL + \"/deleteFlight/\" + admin + \"/\" + flightNumber,\n      {data: flightobj}\n    );\n  }\n\n  getAllReservation(flightNumber) {\n    return axios.get(\n      BOOKING_API_BASE_URL + \"/viewAllReservation/\" + flightNumber\n    );\n  }\n}\n\nexport default new AdminService();"],"names":["props","flightcolumns","id","name","selector","row","flightNumber","departure","arrival","departureDate","departureTime","arrivalDate","arrivalTime","seatAvailability","cell","index","column","_jsxs","ButtonGroup","variant","children","_jsx","Button","startIcon","Edit","onClick","handleEditClick","Delete","e","handleDeleteClick","ignoreRowClick","allowOverflow","button","reservationcolumns","bookingId","passenger","flightDetails","emailId","firstName","lastName","seat","seatNumber","seatClass","payment","totalTravelFair","rows","setRows","useState","setFlightNumber","dataTable","setTable","handleSubmit","AdminService","getAllFlightsDetails","then","ret","console","log","data","returndata","Object","keys","_Fragment","DataTable","title","columns","pagination","style","marginRight","className","type","color","handleAddFlight","marginTop","marginLeft","history","push","pathname","flightObj","state","rowId","actionType","preventDefault","DeleteFlightDetails","includes","alert","document","getElementById","remove","Grid","container","spacing","item","xs","display","justifyContent","alignItems","onSubmit","getAllReservation","concat","paddingLeft","TextField","label","value","onChange","target","marginBottom","paddingTop","backgroundColor","BOOKING_API_BASE_URL","saveFlightDetails","admin","flightobj","axios","post","arguments","length","undefined","get","updateFlightsDetailsAsAdmin","put","delete"],"sourceRoot":""}