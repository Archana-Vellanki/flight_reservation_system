"use strict";(self.webpackChunkflight_booking_system=self.webpackChunkflight_booking_system||[]).push([[491],{491:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var l=a(5043),r=a(9243),i=a(105),s=a(8073),n=a(8655),o=a(3023),d=a(8786),g=a(2347),m=a(6456),c=(a(5620),a(579));const p=e=>{const t=[{id:"flightNumber",name:"FlightNumber",selector:e=>e.flightNumber},{id:"departure",name:"Departure",selector:e=>e.departure},{id:"arrival",name:"Arrival",selector:e=>e.arrival},{id:"departureDate",name:"DepartureDate",selector:e=>e.departureDate},{id:"departureTime",name:"DepartureTime",selector:e=>e.departureTime},{id:"arrivalDate",name:"ArrivalDate",selector:e=>e.arrivalDate},{id:"arrivalTime",name:"ArrivalTime",selector:e=>e.arrivalTime},{id:"seatAvailability",name:"SeatAvailability",selector:e=>e.seatAvailability},{id:"ActionID",name:"Action",cell:(e,t,a,l)=>(0,c.jsxs)(r.A,{variant:"contained","aria-label":"outlined primary button group",children:[(0,c.jsx)(i.A,{startIcon:(0,c.jsx)(g.A,{}),onClick:()=>D(e,"edit")}),(0,c.jsx)(i.A,{startIcon:(0,c.jsx)(m.A,{}),onClick:a=>y(a,t,e,"delete")})]}),ignoreRowClick:!0,allowOverflow:!0,button:!0}],a=[{id:"bookingId",name:"Booking-Id",selector:e=>e.bookingId},{id:"departure",name:"Departure",selector:e=>e.departure},{id:"arrival",name:"Arrival",selector:e=>e.arrival},{id:"departureDate",name:"DepartureDate",selector:e=>e.passenger.flightDetails[0].departureDate},{id:"departureTime",name:"DepartureTime",selector:e=>e.passenger.flightDetails[0].departureTime},{id:"arrivalDate",name:"Arrival Date",selector:e=>e.passenger.flightDetails[0].arrivalDate},{id:"arrivalTime",name:"Arrival Time",selector:e=>e.passenger.flightDetails[0].arrivalTime},{id:"emailId",name:"Email-Id",selector:e=>e.passenger.emailId},{id:"firstName",name:"FirstName",selector:e=>e.passenger.firstName},{id:"lastName",name:"LastName",selector:e=>e.passenger.lastName},{id:"flightNumber",name:"Flight Number",selector:e=>e.flightNumber},{id:"seatNumber",name:"Seat-Number",selector:e=>e.passenger.flightDetails[0].seat.seatNumber},{id:"seatClass",name:"Seat-Class",selector:e=>e.passenger.flightDetails[0].seat.seatClass},{id:"totalTravelFair",name:"TotalTravelFair",selector:e=>e.passenger.payment[0].totalTravelFair}],[p,u]=(0,l.useState)(""),[h,v]=(0,l.useState)(""),[f,A]=(0,l.useState)(""),b=()=>{o.A.getAllFlightsDetails().then((e=>{console.log("result",e.data);var a=e.data;delete a.seats,Object.keys(a[0]),A(""),A((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(d.Ay,{title:"Flights List",columns:t,data:a,pagination:!0}),(0,c.jsx)("div",{style:{marginRight:"10px"},children:(0,c.jsx)(i.A,{className:"black-button",type:"submit",variant:"contained",color:"primary",onClick:()=>x(),style:{marginTop:"15px",marginLeft:"500px"},children:"+Add Flight"})})]}))}))},x=()=>{console.log("handle add"),e.history.push({pathname:"/add-flight"})},D=t=>{console.log("handle edit"),e.history.push({pathname:`/edit-flight/${t.flightNumber}`,state:{flightObj:t}})},y=(e,t,a,l)=>{e.preventDefault(),"delete"==l?(console.log("Marked for delete: %s",a.flightNumber),o.A.DeleteFlightDetails(1,a.flightNumber,a).then((e=>{console.log(e.data),e.data.includes("Deleted Successfully")?(alert("Flight details deleted successfully"),document.getElementById("row-"+t).remove()):alert(e.data)}))):console.log("Marked for edit: %s",h)};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(s.A,{container:!0,spacing:2,children:[(0,c.jsx)(s.A,{item:!0,xs:12,children:(0,c.jsx)("h2",{children:"Hello There!!"})}),(0,c.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center"},children:[(0,c.jsx)("div",{style:{marginRight:"20px"},children:(0,c.jsx)(i.A,{className:"black-button",type:"submit",variant:"contained",color:"primary",onClick:()=>b(),style:{marginTop:"15px",marginLeft:"10px"},children:"All Flights"})}),(0,c.jsx)("form",{onSubmit:e=>{e.preventDefault(),console.log(h),""!=h?o.A.getAllReservation(h).then((e=>{console.log("result",e.data);var t=e.data;A(""),A((0,c.jsx)(d.Ay,{title:"ReservationList for flight number: ".concat(h),columns:a,data:t,pagination:!0}))})):console.log("flight number is empty")},style:{marginLeft:"10px"},children:(0,c.jsxs)("div",{style:{display:"flex",alignItems:"center",paddingLeft:"250px"},children:[(0,c.jsx)(n.A,{label:"Flight Number",type:"text",value:h,onChange:e=>{v(e.target.value)},variant:"outlined",style:{marginBottom:"10px",marginTop:"15px",marginLeft:"10px",paddingTop:"10px"}}),(0,c.jsx)(i.A,{className:"black-button",type:"submit",variant:"contained",color:"primary",style:{marginTop:"15px",marginLeft:"10px",backgroundColor:"#ccc",color:"#000",marginLeft:"10px"},children:"All Reservations"})]})})]})]}),f]})}},3023:(e,t,a)=>{a.d(t,{A:()=>i});var l=a(6213);const r="http://localhost:8080/adminControl";const i=new class{saveFlightDetails(e,t){return l.A.post(r+"/saveflight/"+e,t)}getAllFlightsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return l.A.get(r+"/getAllFlights/"+e)}updateFlightsDetailsAsAdmin(e,t,a){return console.log(a),l.A.put(r+"/updateFlight/"+e+"/"+t,a)}DeleteFlightDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return l.A.delete(r+"/deleteFlight/"+e+"/"+t,{data:a})}getAllReservation(e){return l.A.get(r+"/viewAllReservation/"+e)}}},5620:()=>{}}]);
//# sourceMappingURL=491.98a32435.chunk.js.map