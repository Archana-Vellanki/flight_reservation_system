"use strict";(self.webpackChunkflight_booking_system=self.webpackChunkflight_booking_system||[]).push([[213],{213:(e,a,l)=>{l.r(a),l.d(a,{default:()=>m});var r=l(5043);const t=(0,l(4794).A)(r.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");var i=l(8655),n=l(105),o=l(5115),d=l(5883),s=l(2907),u=l(3023),c=(l(5620),l(579));const m=e=>{const[a,l]=(0,r.useState)({flightNumber:"",departure:"",arrival:"",departureDate:"",departureTime:"",arrivalDate:"",arrivalTime:"",seatAvailability:""}),[m,p]=(0,r.useState)("");""==m&&u.A.getAllFlightsDetails().then((e=>{var a=[];e.data.forEach((e=>{a.push(e.flightNumber)})),p(a)}));const[h,v]=(0,r.useState)(!1),[g,f]=(0,r.useState)(!1),[b,A]=(0,r.useState)(""),x=()=>{f(!0)},y=a=>{f(!1),h&&e.history.push({pathname:"/admin"})},F=e=>{const{name:a,value:r}=e.target;l((e=>({...e,[a]:r})))};return(0,c.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",maxWidth:"400px",margin:"auto",padding:"3px",border:"1px solid #ccc"},children:[(0,c.jsx)("h2",{children:"Add Flight Information"}),(0,c.jsxs)("form",{style:{width:"70%",marginTop:"15px"},children:[(0,c.jsx)(i.A,{label:"Flight Number",variant:"outlined",name:"flightNumber",value:a.flightNumber,onChange:F,fullWidth:!0,margin:"normal"}),(0,c.jsx)(i.A,{label:"Departure",variant:"outlined",name:"departure",value:a.departure,onChange:F,fullWidth:!0,margin:"normal"}),(0,c.jsx)(i.A,{label:"Arrival",variant:"outlined",name:"arrival",value:a.arrival,onChange:F,fullWidth:!0,margin:"normal"}),(0,c.jsx)(i.A,{label:"Departure Date",variant:"outlined",name:"departureDate",type:"date",value:a.departureDate,onChange:F,fullWidth:!0,margin:"normal",inputProps:{min:(new Date).toISOString().split("T")[0]},InputLabelProps:{shrink:!0}}),(0,c.jsx)(i.A,{label:"Departure Time",variant:"outlined",name:"departureTime",type:"time",placeholder:"HH:MM",value:a.departureTime,onChange:F,fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}}),(0,c.jsx)(i.A,{label:"Arrival Date",variant:"outlined",name:"arrivalDate",placeholder:"DD/MM/YYYY",type:"date",inputProps:{min:(new Date).toISOString().split("T")[0]},value:a.arrivalDate,onChange:F,fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}}),(0,c.jsx)(i.A,{label:"Arrival Time",variant:"outlined",name:"arrivalTime",type:"time",placeholder:"HH:MM",value:a.arrivalTime,onChange:F,fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}}),(0,c.jsx)(i.A,{label:"Seat Availability",variant:"outlined",name:"seatAvailability",value:a.seatAvailability,onChange:F,fullWidth:!0,margin:"normal"}),(0,c.jsx)(n.A,{className:"black-button",variant:"contained",color:"primary",startIcon:(0,c.jsx)(t,{children:"Save"}),onClick:e=>(()=>{for(const[e,l]of Object.entries(a))if(""==l)return console.log("empty fields!"),A("Empty fields are not allowed!"),v(!1),void x();return m.includes(a.flightNumber)?(A("Flight: "+a.flightNumber+" already exists!"),v(!1),void x()):a.arrival==a.departure?(A("Arrival and departure cities cannot be same!"),v(!1),void x()):void u.A.saveFlightDetails(1,a).then((e=>{e.data.includes("successfully")?(A("Flight details added successfully"),v(!0),x()):(v(!1),A(e.data),x())}))})()})]}),(0,c.jsxs)(o.A,{open:g,onClose:y,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,c.jsx)(d.A,{id:"alert-dialog-title",children:b}),(0,c.jsx)(s.A,{alignItems:"center",children:(0,c.jsx)(n.A,{className:"black-button",onClick:y,autoFocus:!0,children:"Close"})})]})]})}},3023:(e,a,l)=>{l.d(a,{A:()=>i});var r=l(6213);const t="http://localhost:8080/adminControl";const i=new class{saveFlightDetails(e,a){return r.A.post(t+"/saveflight/"+e,a)}getAllFlightsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return r.A.get(t+"/getAllFlights/"+e)}updateFlightsDetailsAsAdmin(e,a,l){return console.log(l),r.A.put(t+"/updateFlight/"+e+"/"+a,l)}DeleteFlightDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1?arguments[1]:void 0,l=arguments.length>2?arguments[2]:void 0;return r.A.delete(t+"/deleteFlight/"+e+"/"+a,{data:l})}getAllReservation(e){return r.A.get(t+"/viewAllReservation/"+e)}}},8655:(e,a,l)=>{l.d(a,{A:()=>x});var r=l(8168),t=l(45),i=l(5043),n=l(3024),o=l(403),d=l(8951),s=l(8908),u=l(3819),c=l(7467),m=l(3810),p=l(2696),h=l(7573),v=i.forwardRef((function(e,a){var l=e.children,o=e.classes,d=e.className,s=e.component,u=void 0===s?"p":s,c=(e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant,(0,t.A)(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),h=(0,p.A)(),v=(0,m.A)({props:e,muiFormControl:h,states:["variant","margin","disabled","error","filled","focused","required"]});return i.createElement(u,(0,r.A)({className:(0,n.A)(o.root,("filled"===v.variant||"outlined"===v.variant)&&o.contained,d,v.disabled&&o.disabled,v.error&&o.error,v.filled&&o.filled,v.focused&&o.focused,v.required&&o.required,"dense"===v.margin&&o.marginDense),ref:a},c)," "===l?i.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):l)}));const g=(0,h.A)((function(e){return{root:(0,r.A)({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(v);var f=l(9548),b={standard:o.A,filled:d.A,outlined:s.A},A=i.forwardRef((function(e,a){var l=e.autoComplete,o=e.autoFocus,d=void 0!==o&&o,s=e.children,m=e.classes,p=e.className,h=e.color,v=void 0===h?"primary":h,A=e.defaultValue,x=e.disabled,y=void 0!==x&&x,F=e.error,D=void 0!==F&&F,C=e.FormHelperTextProps,T=e.fullWidth,j=void 0!==T&&T,P=e.helperText,k=e.hiddenLabel,w=e.id,I=e.InputLabelProps,N=e.inputProps,S=e.InputProps,M=e.inputRef,W=e.label,E=e.multiline,L=void 0!==E&&E,q=e.name,H=e.onBlur,R=e.onChange,_=e.onFocus,V=e.placeholder,Y=e.required,z=void 0!==Y&&Y,B=e.rows,O=e.rowsMax,$=e.select,G=void 0!==$&&$,J=e.SelectProps,K=e.type,Q=e.value,U=e.variant,X=void 0===U?"standard":U,Z=(0,t.A)(e,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","select","SelectProps","type","value","variant"]);var ee={};if("outlined"===X&&(I&&"undefined"!==typeof I.shrink&&(ee.notched=I.shrink),W)){var ae,le=null!==(ae=null===I||void 0===I?void 0:I.required)&&void 0!==ae?ae:z;ee.label=i.createElement(i.Fragment,null,W,le&&"\xa0*")}G&&(J&&J.native||(ee.id=void 0),ee["aria-describedby"]=void 0);var re=P&&w?"".concat(w,"-helper-text"):void 0,te=W&&w?"".concat(w,"-label"):void 0,ie=b[X],ne=i.createElement(ie,(0,r.A)({"aria-describedby":re,autoComplete:l,autoFocus:d,defaultValue:A,fullWidth:j,multiline:L,name:q,rows:B,rowsMax:O,type:K,value:Q,id:w,inputRef:M,onBlur:H,onChange:R,onFocus:_,placeholder:V,inputProps:N},ee,S));return i.createElement(c.A,(0,r.A)({className:(0,n.A)(m.root,p),disabled:y,error:D,fullWidth:j,hiddenLabel:k,ref:a,required:z,color:v,variant:X},Z),W&&i.createElement(u.A,(0,r.A)({htmlFor:w,id:te},I),W),G?i.createElement(f.A,(0,r.A)({"aria-describedby":re,id:w,labelId:te,value:Q,input:ne},J),s):ne,P&&i.createElement(g,(0,r.A)({id:re},C),P))}));const x=(0,h.A)({root:{}},{name:"MuiTextField"})(A)},5620:()=>{}}]);
//# sourceMappingURL=213.86ff9297.chunk.js.map